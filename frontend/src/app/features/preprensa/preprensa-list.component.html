<div class="preprensa-list">
  <h2 style="width:100%">Órdenes para PrePrensa</h2>
  <ng-container *ngIf="!loading">
    <div class="preprensa-cards-row">
      <mat-card *ngFor="let orden of ordenes" class="preprensa-card" (click)="irADetalle(orden)">
        <div class="preprensa-card-img">
          <img [src]="orden.archivos && orden.archivos.length > 0 ? apiUrl + '/' + orden.archivos[0].ruta : 'assets/placeholder.png'" />
        </div>
        <div class="preprensa-card-info">
          <div class="preprensa-card-cliente">{{ orden.cliente?.nombre || orden.cliente_nombre }}</div>
          <div class="preprensa-card-lote">Lote: <span>{{ orden.numero_lote }}</span></div>
        </div>
        <div *ngIf="orden.estado?.nombre" class="preprensa-card-estado">{{ orden.estado.nombre }}</div>
      </mat-card>
    </div>
  </ng-container>
  <div *ngIf="loading">Cargando órdenes...</div>
</div>
